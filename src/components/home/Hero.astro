---
import { Image } from "astro:assets";
import defaultHero from "../../assets/hero.png";

interface Props {
  headline: string;
  sub: string;
  ctas: { label: string; href: string; external?: boolean }[]; // required now
  image?: ImageMetadata;
  alt?: string;
}

const {
  headline,
  sub,
  ctas,
  image = defaultHero,
  alt = "Stylised of two trees and a computer.",
} = Astro.props;

if (!ctas || ctas.length === 0) {
  throw new Error("Hero component requires a non-empty `ctas` array.");
}
---

<section class="relative">
  <div
    class="container mx-auto px-4 sm:px-6 lg:px-8 grid gap-8 lg:grid-cols-2 items-center py-12 lg:py-20"
  >
    <div>
      <span class="chip mb-2 inline-block"
        >Futuro no ta warda â€” pusha futuro</span
      >

      <h1 class="h1">{headline}</h1>

      <p class="mt-5 text-base sm:text-lg text-black/75 max-w-prose">{sub}</p>

      <div class="mt-5 flex flex-col sm:flex-row sm:flex-wrap gap-3">
        {
          ctas.map((c, i) => (
            <a
              href={c.href}
              class={`btn-primary btn-md sm:btn-lg btn-cap ${
                i === 0 ? "text-black border border-black/10" : ""
              }`}
              style={`background: ${
                i === 0 ? "var(--color-accent)" : "var(--color-brand)"
              };`}
              rel={c.external ? "noopener noreferrer" : undefined}
              target={c.external ? "_blank" : undefined}
            >
              {c.label}
            </a>
          ))
        }
      </div>
    </div>

    <div class="lg:justify-self-end">
      <Image
        src={image}
        alt={alt}
        widths={[640, 960, 1280, 1600, 1920, 2560]}
        sizes="(max-width: 1024px) 100vw, 50vw"
        formats={["avif", "webp", "jpeg"]}
        loading="eager"
        fetchpriority="high"
        class="w-full aspect-[16/10] object-cover rounded-3xl border border-[--color-brand]/30"
      />
    </div>
  </div>
</section>
